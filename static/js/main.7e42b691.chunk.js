(window["webpackJsonpbooker-front"]=window["webpackJsonpbooker-front"]||[]).push([[0],{119:function(e,t,n){e.exports=n(209)},194:function(e,t,n){},195:function(e,t,n){},196:function(e,t,n){},208:function(e,t,n){},209:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(5),o=n.n(c),s=n(81),i=n(23),l=n(24),u=n(27),p=n(25),m=n(28),h=n(210),f=n(213),d=n(30),v=n(31),b=n.n(v),y=n(51),O=n(211),E=n(212),g=n(64),k=n(11),j=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={scenarios:["Nothings here :("]},n.handleOnClick=function(e){var t=n.state.scenarios[e.key];n.props.history.push("/class-chooser?scenario=".concat(t))},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(y.a)(b.a.mark(function e(){var t,n;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchScenarios();case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,this.setState({scenarios:n});case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchScenarios",value:function(){return fetch("".concat(M,"/user/persona"))}},{key:"render",value:function(){var e=this.state.scenarios,t=r.a.createElement(O.a,{onClick:this.handleOnClick},e.map(function(e,t){return r.a.createElement(O.a.Item,{key:t},e)}));return r.a.createElement(E.a,{overlay:t},r.a.createElement(g.a,{size:"large"},"Choose scenario ",r.a.createElement(k.a,{type:"down"})))}}]),t}(a.Component),C=n(114),S=n(55),w=n.n(S),x=(n(194),function(e){var t=e.title,n=e.items,a=e.price,c=e.seatsLeft,o=e.onClick;return r.a.createElement("div",{className:"class-chooser-card",onClick:o(t)},r.a.createElement("h3",null,t),r.a.createElement("div",{className:"class-chooser-card__perks-list"},r.a.createElement("ul",null,n.map(function(e){return r.a.createElement("li",{key:e},e)})),r.a.createElement("div",null,r.a.createElement("p",null,c," seats left"),r.a.createElement("h2",null,a," EUR"))))});n(195);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var D=[{title:"Economy",items:["lorem ipsum dolor sit amet","consectetur adipisicing elit","autem cumque deserunt distinctio","doloremque eveniet incidunt"],price:"199",seatsLeft:2},{title:"Premium Economy",items:["autem cumque deserunt distinctio","consectetur adipisicing elit","lorem ipsum dolor sit amet","doloremque eveniet incidunt"],price:"299",seatsLeft:1},{title:"Business",items:["doloremque eveniet incidunt","consectetur adipisicing elit","lorem ipsum dolor sit amet","autem cumque deserunt distinctio"],price:"399",seatsLeft:4}],N=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleOnCardClick=function(e){return function(){var t=n.props,a=t.history.push,r=t.location.search,c=w.a.parse(r),o=w.a.stringify(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(n,!0).forEach(function(t){Object(C.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({standard:e},c));a("/seat-chooser?".concat(o))}},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"class-chooser"},r.a.createElement("h2",null,"SELECT CLASS THAT SUITS YOU BEST"),r.a.createElement("div",{className:"class-chooser__cards-list"},D.map(function(t){return r.a.createElement(x,Object.assign({key:t.title,onClick:e.handleOnCardClick},t))})))}}]),t}(a.Component),P=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(y.a)(b.a.mark(function e(){var t;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchSeatsByScenario();case 2:t=e.sent,console.log("===== data=====",t);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchSeatsByScenario",value:function(){var e=Object(y.a)(b.a.mark(function e(){var t,n;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=w.a.parse(this.props.location.search),e.next=3,this.postData("".concat(M,"/booking/seats"),{userPersona:t.scenario});case 3:return n=e.sent,e.abrupt("return",n.json());case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"postData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})}},{key:"render",value:function(){return r.a.createElement("h2",null,"SeatChooser")}}]),t}(a.Component),B=function(){return r.a.createElement("h2",null,"Baggage")},T=function(){return r.a.createElement("h2",null,"Extras")},q=(n(196),h.a.Header),F=h.a.Content,L=h.a.Footer,R=f.a.Step,A={scenario:"".concat("/booker-front"),classChooser:"".concat("/booker-front","/class-chooser"),seatChooser:"/seat-chooser",baggage:"/baggage",extras:"/extras"},M="https://hack-yeah-bot.herokuapp.com",z=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={current:0},n.handleOnChange=function(e){var t=n.props,a=t.history.push,r=t.location.search;n.setState({current:e});var c=n.getRouteFromStep(e);a("".concat(c).concat(r))},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.setState({current:this.getStepFromRoute()})}},{key:"componentDidUpdate",value:function(e){this.props.location.pathname!==e.location.pathname&&this.setState({current:this.getStepFromRoute()})}},{key:"getRouteFromStep",value:function(e){return Object.values(A)[e]}},{key:"getStepFromRoute",value:function(){return Object.values(A).indexOf(this.props.location.pathname)}},{key:"render",value:function(){var e=this.state.current;return r.a.createElement(h.a,null,r.a.createElement(q,{className:"app__header"},r.a.createElement("div",{className:"app__logo"})),r.a.createElement("div",{className:"app__steps"},r.a.createElement(f.a,{current:e,onChange:this.handleOnChange,size:"small"},r.a.createElement(R,{title:"Scenariusz"}),r.a.createElement(R,{title:"Klasa"}),r.a.createElement(R,{title:"Miejsca"}),r.a.createElement(R,{title:"Baga\u017c"}),r.a.createElement(R,{title:"Dodatki"}))),r.a.createElement(F,{className:"app__content"},r.a.createElement(d.a,{path:A.scenario,exact:!0,component:j}),r.a.createElement(d.a,{path:A.classChooser,component:N}),r.a.createElement(d.a,{path:A.seatChooser,component:P}),r.a.createElement(d.a,{path:A.baggage,component:B}),r.a.createElement(d.a,{path:A.extras,component:T})),r.a.createElement(L,{className:"app__footer"},"Created by Orki z Majorki \xa9 2019"))}}]),t}(a.Component),U=Object(d.e)(z);n(207),n(208);o.a.render(r.a.createElement(s.a,{basename:"/booker-front/"},r.a.createElement(U,null)),document.getElementById("root"))}},[[119,1,2]]]);
//# sourceMappingURL=main.7e42b691.chunk.js.map