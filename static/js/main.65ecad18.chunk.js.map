{"version":3,"sources":["components/Scenario.js","components/ClassChooserCard.js","components/ClassChooser.js","components/SeatChooser.js","components/Baggage.js","components/Extras.js","App.js","index.js"],"names":["Scenario","state","scenarios","handleOnClick","e","chosenScenario","key","props","history","push","this","fetchScenarios","res","json","setState","fetch","API","menu","onClick","map","scenario","i","Item","overlay","size","type","Component","ClassChooserCard","title","items","price","seatsLeft","className","item","config","ClassChooser","handleOnCardClick","search","location","parsedSearch","qs","parse","queryParams","stringify","standard","SeatChooser","fetchSeatsByScenario","data","console","log","parsedQuery","postData","userPersona","url","method","headers","body","JSON","Baggage","Extras","Header","Layout","Content","Footer","Step","Steps","ROUTES","process","classChooser","seatChooser","baggage","extras","App","current","handleOnChange","path","getRouteFromStep","getStepFromRoute","prevProps","pathname","currentStep","Object","values","indexOf","onChange","exact","component","withRouter","ReactDOM","render","basename","document","getElementById"],"mappings":"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","file":"static/js/main.65ecad18.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport { Button, Dropdown, Icon, Menu } from 'antd';\nimport { API } from '../App';\n\nclass Scenario extends Component {\n  state = {\n    scenarios: ['Nothings here :('],\n  };\n\n  async componentDidMount() {\n    const res = await this.fetchScenarios();\n    const scenarios = await res.json();\n    this.setState({ scenarios });\n  }\n\n  fetchScenarios() {\n    return fetch(`${API}/user/persona`);\n  }\n\n  handleOnClick = e => {\n    const chosenScenario = this.state.scenarios[e.key];\n    this.props.history.push(`/class-chooser?scenario=${chosenScenario}`);\n  };\n\n  render() {\n    const { scenarios } = this.state;\n    const menu = (\n      <Menu onClick={this.handleOnClick}>\n        {scenarios.map((scenario, i) => (\n          <Menu.Item key={i}>\n            {scenario}\n          </Menu.Item>\n        ))}\n      </Menu>\n    );\n\n    return (\n      <Dropdown overlay={menu}>\n        <Button size='large'>\n          Choose scenario <Icon type=\"down\"/>\n        </Button>\n      </Dropdown>\n    );\n  }\n}\n\nexport default Scenario;\n","import React from 'react';\n\nimport './ClassChooserCard.css';\n\nconst ClassChooserCard = ({ title, items, price, seatsLeft, onClick }) => (\n  <div className=\"class-chooser-card\" onClick={onClick(title)}>\n    <h3>{title}</h3>\n    <div className=\"class-chooser-card__perks-list\">\n      <ul>\n        {items.map(item => <li key={item}>{item}</li>)}\n      </ul>\n      <div>\n        <p>{seatsLeft} seats left</p>\n        <h2>{price} EUR</h2>\n      </div>\n    </div>\n  </div>\n);\n\nexport default ClassChooserCard;\n","import React, { Component } from 'react';\nimport qs from 'query-string';\n\nimport ClassChooserCard from './ClassChooserCard';\n\nimport './ClassChooser.css';\n\nconst config = [\n  {\n    title: 'Economy',\n    items: [\n      'lorem ipsum dolor sit amet',\n      'consectetur adipisicing elit',\n      'autem cumque deserunt distinctio',\n      'doloremque eveniet incidunt',\n    ],\n    price: '199',\n    seatsLeft: 2,\n  },\n  {\n    title: 'Premium Economy',\n    items: [\n      'autem cumque deserunt distinctio',\n      'consectetur adipisicing elit',\n      'lorem ipsum dolor sit amet',\n      'doloremque eveniet incidunt',\n    ],\n    price: '299',\n    seatsLeft: 1,\n  },\n  {\n    title: 'Business',\n    items: [\n      'doloremque eveniet incidunt',\n      'consectetur adipisicing elit',\n      'lorem ipsum dolor sit amet',\n      'autem cumque deserunt distinctio',\n    ],\n    price: '399',\n    seatsLeft: 4,\n  },\n];\n\nclass ClassChooser extends Component {\n  handleOnCardClick = title => () => {\n    const { history: { push }, location: { search } } = this.props;\n    const parsedSearch = qs.parse(search);\n    const queryParams = qs.stringify({\n      standard: title,\n      ...parsedSearch,\n    });\n\n    push(`/seat-chooser?${queryParams}`);\n  };\n\n  render() {\n    return (\n      <div className='class-chooser'>\n        <h2>SELECT CLASS THAT SUITS YOU BEST</h2>\n        <div className=\"class-chooser__cards-list\">\n          {config.map((item) => <ClassChooserCard key={item.title} onClick={this.handleOnCardClick} {...item}/>)}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ClassChooser;\n","import React, { Component } from 'react';\nimport qs from 'query-string';\nimport { API } from '../App';\n\nclass SeatChooser extends Component {\n  async componentDidMount() {\n    const data = await this.fetchSeatsByScenario();\n    console.log('===== data=====', data);\n  }\n\n  async fetchSeatsByScenario() {\n    const parsedQuery = qs.parse(this.props.location.search);\n    const res = await this.postData(`${API}/booking/seats`, { userPersona: parsedQuery.scenario });\n    return res.json();\n  }\n\n  postData(url = '', data = {}) {\n    return fetch(url, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(data),\n    });\n  }\n\n  render() {\n    return <h2>SeatChooser</h2>;\n  }\n}\n\nexport default SeatChooser;\n","import React from 'react';\n\nconst Baggage = () => {\n  return <h2>Baggage</h2>;\n};\n\nexport default Baggage;\n","import React from 'react';\n\nconst Extras = () => {\n  return <h2>Extras</h2>;\n};\n\nexport default Extras;\n","import React, { Component } from 'react';\nimport { Layout, Steps } from 'antd';\nimport { Route, withRouter } from 'react-router-dom';\n\nimport Scenario from './components/Scenario';\nimport ClassChooser from './components/ClassChooser';\nimport SeatChooser from './components/SeatChooser';\nimport Baggage from './components/Baggage';\nimport Extras from './components/Extras';\n\nimport './App.css';\n\nconst { Header, Content, Footer } = Layout;\nconst { Step } = Steps;\n\nconst ROUTES = {\n  scenario: `${process.env.PUBLIC_URL}`,\n  classChooser: `${process.env.PUBLIC_URL}/class-chooser`,\n  seatChooser: '/seat-chooser',\n  baggage: '/baggage',\n  extras: '/extras',\n};\n\nexport const API = 'https://hack-yeah-bot.herokuapp.com';\n\nclass App extends Component {\n  state = {\n    current: 0,\n  };\n\n  componentDidMount() {\n    this.setState({ current: this.getStepFromRoute() });\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.location.pathname === prevProps.location.pathname) return;\n    this.setState({ current: this.getStepFromRoute() });\n  }\n\n  getRouteFromStep(currentStep) {\n    const routes = Object.values(ROUTES);\n    return routes[currentStep];\n  }\n\n  getStepFromRoute() {\n    return Object.values(ROUTES).indexOf(this.props.location.pathname);\n  }\n\n\n  handleOnChange = current => {\n    const { history: { push }, location: { search } } = this.props;\n\n    this.setState({ current });\n    const path = this.getRouteFromStep(current);\n    push(`${path}${search}`);\n  };\n\n  render() {\n    const { current } = this.state;\n\n    return (\n      <Layout>\n        <Header className=\"app__header\">\n          <div className=\"app__logo\"/>\n        </Header>\n        <div className=\"app__steps\">\n          <Steps current={current} onChange={this.handleOnChange} size='small'>\n            <Step title=\"Scenariusz\"/>\n            <Step title=\"Klasa\"/>\n            <Step title=\"Miejsca\"/>\n            <Step title=\"Bagaż\"/>\n            <Step title=\"Dodatki\"/>\n          </Steps>\n        </div>\n        <Content className=\"app__content\">\n          <Route path={ROUTES.scenario} exact component={Scenario}/>\n          <Route path={ROUTES.classChooser} component={ClassChooser}/>\n          <Route path={ROUTES.seatChooser} component={SeatChooser}/>\n          <Route path={ROUTES.baggage} component={Baggage}/>\n          <Route path={ROUTES.extras} component={Extras}/>\n        </Content>\n        <Footer className=\"app__footer\">Created by Orki z Majorki © 2019</Footer>\n      </Layout>\n    );\n  }\n}\n\nexport default withRouter(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\n\nimport App from './App';\n\nimport 'antd/dist/antd.css';\nimport './index.css';\n\nReactDOM.render(<BrowserRouter basename='/booker-front'><App/></BrowserRouter>, document.getElementById('root'));\n\n"],"sourceRoot":""}